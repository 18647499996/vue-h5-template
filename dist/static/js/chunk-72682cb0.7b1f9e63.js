(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-72682cb0"],{"5f87":function(t,e,i){"use strict";i.d(e,"g",(function(){return o})),i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return s})),i.d(e,"f",(function(){return c})),i.d(e,"d",(function(){return u})),i.d(e,"e",(function(){return d})),i.d(e,"a",(function(){return l}));var n=i("a78e"),r=i.n(n);function o(t){return r.a.set("USER_TOKEN",t)}function a(){return r.a.get("USER_TOKEN")}function s(){return r.a.remove("USER_TOKEN")}function c(){return r.a.set("SKIP_SHOP",1)}function u(){return r.a.set("SKIP_ACTIVE",1)}function d(t){return r.a.set("LOCATION_INFO",t)}function l(){return r.a.get("LOCATION_INFO")}},acfd:function(t,e,i){"use strict";i("b139")},b139:function(t,e,i){},b775:function(t,e,i){"use strict";i("e7e5");var n=i("d399"),r=(i("d3b7"),i("25f0"),i("bc3a")),o=i.n(r),a=i("4360"),s=i("a18c"),c=i("5c96"),u=i("5f87"),d=i("f121"),l=o.a.create({baseURL:d["baseApi"],withCredentials:!0,timeout:3e4});l.interceptors.request.use((function(t){return t.hideloading||n["a"].loading({message:"加载中..",forbidClick:!0,duration:0}),a["a"].getters.token&&(t.headers["X-Token"]=""),""!==Object(u["b"])()&&(t.headers["Authorization"]="Bearer "+Object(u["b"])()),t}),(function(t){return Promise.reject(t)})),l.interceptors.response.use((function(t){n["a"].clear();var e=t.data,i=t.request;if(200===i.status)return 0===e.code?Promise.resolve(e):Promise.reject(e.msg);c["Message"].error({message:"服务器连接异常，请稍后连接！",duration:1e3})}),(function(t){n["a"].clear();var e=0;try{e=t.response.data.code}catch(r){if(-1!==t.toString().indexOf("Error: timeout"))return c["Message"].error({message:"网络请求超时",duration:2e3}),Promise.reject(t)}if(e)if(401===e)c["Message"].error({message:"登录状态已过期，重新登录！",duration:1500}),"/api/Mall/GetMall?"===t.response.config.url&&Object(u["f"])(),"api/Activity/GetActivity?"===t.response.config.url&&Object(u["d"])(),Object(u["c"])(),s["a"].push("/verify_login");else{var i=t.response.data.message;void 0!==i&&c["Message"].error({message:i,duration:2e3})}else c["Message"].error({message:"接口请求失败",duration:2e3});return Promise.reject(t)})),e["a"]=l},c0d8:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"binding"},[i("span",{staticClass:"headline"},[t._v("选择绑定房产（选择小区）")]),i("div",{staticClass:"search-wrap"},[i("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入小区名称",clearable:""},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(e){return t.onClickQueryHouse()}},slot:"append"})],1)],1),i("div",{staticClass:"city-wrap"},[i("span",{staticClass:"subtitle"},[t._v("当前城市（"+t._s("市辖区"===t.city?t.province:t.city)+"）")]),i("div",{staticClass:"city-content"},[i("span",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"location",on:{click:t.createMap}},[t._v("重新定位")]),i("div",{staticClass:"city"},[i("el-cascader",{staticClass:"picker",attrs:{size:"large",options:t.regionData},on:{change:t.handleChange},model:{value:t.selectedOptions,callback:function(e){t.selectedOptions=e},expression:"selectedOptions"}})],1)])]),i("div",{staticClass:"city-wrap"},[i("span",{staticClass:"subtitle"},[t._v("全部社区")]),t._l(t.houseList,(function(e,n){return i("div",{key:n,staticClass:"community"},[i("div",{staticClass:"item",on:{click:function(i){return t.onItemClick(e)}}},[i("span",[i("span",{staticClass:"name"},[t._v(t._s(e.itemName))]),i("span",{staticClass:"enter"})])])])}))],2)])},r=[],o=i("c24f"),a=i("5f87"),s=i("ef6c"),c={name:"AddHouse",data:function(){return{province:"",city:"",district:"",houseList:"",fullscreenLoading:!1,selectedOptions:[],regionData:s["regionData"],CodeToText:s["CodeToText"],TextToCode:s["TextToCode"],input:"",userid:""}},mounted:function(){void 0===this.$route.query.userid?this.createMap():(this.userid=this.$route.query.userid,this.province=this.$route.query.province,this.city=this.$route.query.city,this.district=this.$route.query.district,this.getToken())},methods:{getToken:function(){var t=this;Object(o["o"])({authType:2}).then((function(e){Object(a["g"])(e.data.token),t.getItems(),t.$router.push("/home")})).catch((function(t){}))},createMap:function(){this.selectedOptions=[],this.fullscreenLoading=!0;var t=this,e=new BMap.Geocoder,i=new BMap.Geolocation;i.enableSDKLocation(),i.getCurrentPosition((function(i){this.getStatus()===BMAP_STATUS_SUCCESS?e.getLocation(i.point,(function(e){var i=e.addressComponents;t.province=i.province,t.city=i.city,t.district=i.district,t.selectedOptions[0]=t.TextToCode[i.province].code,t.selectedOptions[1]=t.TextToCode[i.province][i.province===i.city?"市辖区":i.city].code,t.selectedOptions[2]=t.TextToCode[i.province][i.province===i.city?"市辖区":i.city][i.district].code,t.getItems()})):this.fullscreenLoading=!1}),{enableHighAccuracy:!0})},getItems:function(){var t=this;Object(o["j"])({provinceName:this.province,cityName:"市辖区"===this.city?this.province:this.city,districtName:this.district,itemName:this.input}).then((function(e){t.houseList=e.data,t.fullscreenLoading=!1})).catch((function(e){t.fullscreenLoading=!1}))},handleChange:function(t){this.province=s["CodeToText"][this.selectedOptions[0]],this.city=s["CodeToText"][this.selectedOptions[1]],this.district=s["CodeToText"][this.selectedOptions[2]],this.getItems()},onClickQueryHouse:function(){this.getItems()},onItemClick:function(t){this.$router.push({path:"/add_building",query:{id:t.itemId,userid:this.userid}})}}},u=c,d=(i("acfd"),i("2877")),l=Object(d["a"])(u,n,r,!1,null,"6036352a",null);e["default"]=l.exports},c24f:function(t,e,i){"use strict";i.d(e,"o",(function(){return r})),i.d(e,"g",(function(){return o})),i.d(e,"j",(function(){return a})),i.d(e,"n",(function(){return s})),i.d(e,"h",(function(){return c})),i.d(e,"l",(function(){return u})),i.d(e,"k",(function(){return d})),i.d(e,"i",(function(){return l})),i.d(e,"m",(function(){return p})),i.d(e,"f",(function(){return f})),i.d(e,"e",(function(){return h})),i.d(e,"a",(function(){return m})),i.d(e,"b",(function(){return g})),i.d(e,"d",(function(){return v})),i.d(e,"c",(function(){return b}));var n=i("b775");function r(t){return Object(n["a"])({url:"api/Token?",method:"post",data:t,hideloading:!1})}function o(t){return Object(n["a"])({url:"api/Bill/GetBillInfos?",method:"get",params:t,hideloading:!1})}function a(t){return Object(n["a"])({url:"api/Item/GetItems?",method:"get",params:t,hideloading:!0})}function s(t){return Object(n["a"])({url:"api/Item/GetZoneOrBuild?",method:"get",params:t,hideloading:!1})}function c(t){return Object(n["a"])({url:"api/Item/GetBuild?",method:"get",params:t,hideloading:!1})}function u(t){return Object(n["a"])({url:"api/Item/GetUnit?",method:"get",params:t,hideloading:!1})}function d(t){return Object(n["a"])({url:"api/Item/GetRoom?",method:"get",params:t,hideloading:!1})}function l(t){return Object(n["a"])({url:"api/Item/GetHownerMessage?",method:"get",params:t,hideloading:!1})}function p(t){return Object(n["a"])({url:"api/Sms?",method:"get",params:t,hideloading:!1})}function f(t){return Object(n["a"])({url:"api/Item/BindRoom?",method:"get",params:t,hideloading:!1})}function h(t){return Object(n["a"])({url:"/api/Repair/AddRepair",method:"post",data:t,hideloading:!1})}function m(t){return Object(n["a"])({url:"api/Activity/GetActivity?",method:"get",params:t,hideloading:!0})}function g(t){return Object(n["a"])({url:"api/Activity/GetPrize?",method:"get",params:t,hideloading:!1})}function v(t){return Object(n["a"])({url:"api/Activity/LuckPrize?",method:"get",params:t,hideloading:!1})}function b(t){return Object(n["a"])({url:"api/Activity/GetPrizeRecord?",method:"get",params:t,hideloading:!1})}}}]);